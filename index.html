<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HOBs International Pvt. Ltd.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= LOGIN SECTION ================= -->
<section id="login">
  <h2>Client Login</h2>

  <input type="text" id="phone" placeholder="+91XXXXXXXXXX" required>
  <br><br>

  <input type="email" id="email" placeholder="Enter your email" required>
  <br><br>

  <button onclick="sendLoginLink()">Send Login Link</button>

  <p id="status"></p>
</section>

<!-- ================= MAIN CONTENT ================= -->
<header>
  <h1>HOBs International Pvt. Ltd.</h1>
  <p>From Idea to Prototype</p>
</header>

<nav>
  <a href="#home">Home</a>
  <a href="#services">Services</a>
  <a href="#about">About</a>
  <a href="#contact">Contact</a>
</nav>

<section id="home">
  <h2>Welcome</h2>
  <p>
    We support students, innovators, and startups in transforming ideas
    into validated concepts and prototype-level designs.
  </p>
</section>

<section id="services">
  <h2>Our Services</h2>

  <div class="card">
    <h3>Idea Validation</h3>
    <p>₹299</p>
  </div>

  <div class="card">
    <h3>Project Design</h3>
    <p>₹1,499</p>
  </div>

  <div class="card">
    <h3>Prototype Guidance</h3>
    <p>₹2,999</p>
  </div>

  <div class="card">
    <h3>Complete Innovation Support</h3>
    <p>₹4,999</p>
  </div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <p>Email: heartofbiology22@gmail.com</p>
  <p>WhatsApp: +91 9345504141</p>
</section>

<footer>
  <p>© 2026 HOBs International Pvt. Ltd.</p>
</footer>

<!-- ================= FIREBASE SDKs ================= -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>

  const firebaseConfig = {
    apiKey: "AIzaSyBzWCNM8N7LVOwWKVoTAu7a48p1z8hCb0M",
    authDomain: "hobs-auth.firebaseapp.com",
    projectId: "hobs-auth",
    storageBucket: "hobs-auth.appspot.com",
    messagingSenderId: "498840613090",
    appId: "1:498840613090:web:5289ffd2607e921e1e6ebb"
  };

  firebase.initializeApp(firebaseConfig);

  const auth = firebase.auth();
  const db = firebase.firestore();

  // ✅ REQUIRED FOR EMAIL LINK LOGIN
  const actionCodeSettings = {
    url: "https://heartofbiology.github.io/",
    handleCodeInApp: true
  };

  // ================= SEND LOGIN LINK =================
  function sendLoginLink() {
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;

    if (!phone || !email) {
      document.getElementById("status").innerText = "Enter phone and email";
      return;
    }

    localStorage.setItem("loginPhone", phone);
    localStorage.setItem("loginEmail", email);

    auth.sendSignInLinkToEmail(email, actionCodeSettings)
      .then(() => {
        document.getElementById("status").innerText =
          "Login link sent. Check inbox & spam.";
      })
      .catch(error => {
        document.getElementById("status").innerText = error.message;
      });
  }

  // ================= HANDLE EMAIL LINK =================
  if (auth.isSignInWithEmailLink(window.location.href)) {
    const email = localStorage.getItem("loginEmail");
    const phone = localStorage.getItem("loginPhone");

    auth.signInWithEmailLink(email, window.location.href)
      .then(result => {
        const user = result.user;

        db.collection("clients").doc(user.uid).set({
          email: email,
          phone: phone,
          loginTime: new Date()
        });

        document.getElementById("status").innerText =
          "Login successful. We will contact you shortly.";
      })
      .catch(error => {
        document.getElementById("status").innerText = error.message;
      });
  }
</script>

</body>
</html>
